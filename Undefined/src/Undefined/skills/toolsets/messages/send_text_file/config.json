{
    "type": "function",
    "function": {
        "name": "send_text_file",
        "description": "发送单文件文本文档（如代码、Markdown、LaTeX、配置文件）到群聊或私聊。默认大小上限 512KB，可在 config.toml 的 [messages].send_text_file_max_size_kb 调整。适用于单文件、轻量任务；多文件工程、需要运行验证或打包交付的复杂任务，请优先使用 code_delivery_agent。",
        "parameters": {
            "type": "object",
            "properties": {
                "content": {
                    "type": "string",
                    "description": "文件文本内容"
                },
                "filename": {
                    "type": "string",
                    "description": "文件名（仅允许单文件名，不可包含路径），例如 main.py、README.md、CMakeLists.txt"
                },
                "target_type": {
                    "type": "string",
                    "enum": ["group", "private"],
                    "description": "可选。目标会话类型：group（群聊）或 private（私聊）。不填时自动按上下文推断。"
                },
                "target_id": {
                    "type": "integer",
                    "description": "可选。目标会话 ID（群号或 QQ 号）。"
                },
                "encoding": {
                    "type": "string",
                    "enum": ["utf-8", "utf-8-sig", "ascii", "gbk"],
                    "description": "可选。文件编码，默认 utf-8。"
                }
            },
            "required": ["content", "filename"]
        }
    }
}
